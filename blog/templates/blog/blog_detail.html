{% extends "layout.html" %}
{% block title %}{{ post.title }} — Blog{% endblock %}
{% block content %}
<article class="max-w-3xl mx-auto">
  <header class="mb-6">
    <h1 class="text-3xl font-bold">{{ post.title }}</h1>
    <p class="text-sm text-slate-500 mt-1">{{ post.published_date|date:"F j, Y" }} • {{ post.read_time|default:"5 min read" }}</p>
    <div class="mt-3 flex gap-2">
      {% for tag in post.tags.all %}
        <span class="text-xs px-2 py-1 rounded-full border">{{ tag.name }}</span>
      {% endfor %}
    </div>
  </header>

  {% if post.featured_image %}
    <img src="{{ post.featured_image.url }}" alt="{{ post.title }}" class="w-full h-64 object-cover rounded-lg mb-6">
  {% endif %}

  <div class="prose dark:prose-invert max-w-none">
    {{ post.content|safe }}
  </div>

  <footer class="mt-8 flex items-center justify-between">
    <div>
      {% if previous_post %}
      <a href="{% url 'blog_detail' previous_post.slug %}" class="text-sm">← {{ previous_post.title|truncatechars:40 }}</a>
      {% endif %}
    </div>
    <div>
      {% if next_post %}
      <a href="{% url 'blog_detail' next_post.slug %}" class="text-sm">{{ next_post.title|truncatechars:40 }} →</a>
      {% endif %}
    </div>
  </footer>
</article>
{% endblock %}
